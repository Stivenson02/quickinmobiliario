<template>
  <!-- FEATURED FLAT AREA START -->
  <div class="featured-flat-area pt-115 pb-60">
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <div class="featured-flat">
            <div class="row">
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale">For Sale</span>
                    <a href="properties-details.html"><img src="images/flat/1.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <a href="properties-details.html"><img src="images/flat/2.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale rent">For rent</span>
                    <a href="properties-details.html"><img src="images/flat/3.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <a href="properties-details.html"><img src="images/flat/4.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale">For Sale</span>
                    <a href="properties-details.html"><img src="images/flat/5.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <a href="properties-details.html"><img src="images/flat/6.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale rent">For rent</span>
                    <a href="properties-details.html"><img src="images/flat/7.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <a href="properties-details.html"><img src="images/flat/8.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale">For Sale</span>
                    <a href="properties-details.html"><img src="images/flat/9.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale rent">For rent</span>
                    <a href="properties-details.html"><img src="images/flat/7.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="properties-details.html">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="properties-details.html">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- pagination-area -->
              <div class="col-xs-12">
                <div class="pagination-area mb-60">
                  <ul class="pagination-list text-center">
                    <li><a href="#"><i class="fa fa-angle-left" aria-hidden="true"></i></a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#"><i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <!-- widget-search-property -->
          <aside class="widget widget-search-property mb-30">
            <h5>Encuentre su vivienda</h5>
            <div class="row">
              <div class="col-md-6 col-sm-3 col-xs-12">
                <div class="find-home-item custom-select">
                  <select class="selectpicker" title="Zona" data-hide-disabled="true" data-live-search="true">
                    <optgroup disabled="disabled" label="disabled">
                      <option>Hidden</option>
                    </optgroup>
                    <optgroup label="Zona">
                      <option>Norte</option>
                      <option>Sur</option>
                      <option>Occidente</option>
                      <option>Centro</option>
                    </optgroup>
                  </select>
                </div>
              </div>
              <div class="col-md-6 col-sm-3 col-xs-12">
                <div class="find-home-item custom-select">
                  <select class="selectpicker" title="Ciudad" data-hide-disabled="true" data-live-search="true">
                    <optgroup disabled="disabled" label="disabled">
                      <option>Hidden</option>
                    </optgroup>
                    <optgroup label="Cundinamarca">
                      <option value="Chocontá">Chocontá</option>
                      <option value="Machetá">Machetá</option>
                      <option value="Manta">Manta</option>
                      <option value="Sesquilé">Sesquilé</option>
                      <option value="Suesca">Suesca</option>
                      <option value="Tibirita">Tibirita</option>
                      <option value="Villapinzón">Villapinzón</option>
                      <option value="Bogotá">Bogotá</option>
                    </optgroup>
                  </select>
                </div>
              </div>
              <div class="col-md-6 col-sm-3 col-xs-12">
                <div class="find-home-item custom-select">
                  <select class="selectpicker" title="Tipo Inmueble">
                    <option v-for="prop in use_types" :value="prop.id">{{ prop.name }}</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6 col-sm-3 col-xs-12">
                <div class="find-home-item  custom-select">
                  <select class="selectpicker" title="No. de Habitaciones" data-hide-disabled="true">
                    <optgroup  label="1 Habitación">
                      <option label="1">1 Habitación</option>
                      <option>2 Habitaciones</option>
                      <option>3 Habitaciones</option>
                      <option>4 Habitaciones</option>
                      <option>5 Habitaciones</option>
                    </optgroup>
                  </select>
                </div>
              </div>
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="find-home-item">
                  <!-- shop-filter -->
                  <div class="shop-filter">
                    <div class="price_filter">
                      <div class="price_slider_amount">
                        <input type="submit"  value="Precio :"/>
                        <input type="text" id="amount" name="price"  placeholder="Agrega tu precio" />
                      </div>
                      <div id="slider-range"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="find-home-item">
                  <a class="button-1 btn-block btn-hover-1" href="#">BUSCAR</a>
                </div>
              </div>
            </div>
          </aside>
          <!-- widget-featured-property -->
          <aside class="widget widget-featured-property mb-30">
            <h5>Featured Property</h5>
            <div class="row">
              <!-- flat-item -->
              <div class="col-md-12 col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale">For Sale</span>
                    <a href="#"><img src="images/flat/1.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="#">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="#">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-md-12 col-sm-6 col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale">For Sale</span>
                    <a href="#"><img src="images/flat/2.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="#">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="#">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
              <!-- flat-item -->
              <div class="col-md-12 hidden-sm col-xs-12">
                <div class="flat-item">
                  <div class="flat-item-image">
                    <span class="for-sale">For Sale</span>
                    <a href="#"><img src="images/flat/3.jpg" alt=""></a>
                    <div class="flat-link">
                      <a href="#">More Details</a>
                    </div>
                    <ul class="flat-desc">
                      <li>
                        <img src="images/icons/4.png" alt="">
                        <span>450 sqft</span>
                      </li>
                      <li>
                        <img src="images/icons/5.png" alt="">
                        <span>5</span>
                      </li>
                      <li>
                        <img src="images/icons/6.png" alt="">
                        <span>3</span>
                      </li>
                    </ul>
                  </div>
                  <div class="flat-item-info">
                    <div class="flat-title-price">
                      <h5><a href="#">Masons de Villa </a></h5>
                      <span class="price">$52,350</span>
                    </div>
                    <p><img src="images/icons/location.png" alt="">568 E 1st Ave, Ney Jersey</p>
                  </div>
                </div>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>
  </div>
  <!-- FEATURED FLAT AREA END -->
</template>

<script>
export default {
  mounted: function(){
    console.log('Property Search component load!!');
    this.loadUseTypes();
  },
  props: ['uses'],
  data() {
    return {
      properties: [],
      featured_properties: [],
      use_types: [],
      city: '-1',
      rooms: '',
      bathrooms: ''
    }
  },
  methods: {
    search: function(){
      var vue = this;
      Vue.http.get(`inmuebles/buscar?city=${vue.city}&rooms=${vue.rooms}&bathrooms=${vue.bathrooms}`).then((response) => {
        vue.properties = response.body.data;
        console.log(vue.properties);
      });
    },
    loadUseTypes: function(){
      this.use_types = JSON.parse(this.uses);
    }
  }
}
</script>
